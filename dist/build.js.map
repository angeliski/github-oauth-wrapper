{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dist/build.js","webpack:///webpack/bootstrap ea6303de51b18de0dbaa","webpack:///./src/main.js","webpack:///./src/helpers.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_helpers","GitHubAuthentication","authOptions","_authOptions","_popup","console","value","log","parseToUrlParams","nome","age","GitHubAuth2","clientId","callbackUrl","githubUrl","popup","openPopup","polling","url","createUrl","left","window","screen","width","top","height","open","_this","pollingInterval","setInterval","location","href","extractUri","authenticateApi","close","clearInterval","error","split","code","extractCodeParam","axios","post","then","response","document","querySelector","innerHTML","data","token","catch","options","keys","reduce","params","encodeURIComponent"],"mappings":"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","file":"./dist/build.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"GitHubAuthentication\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GitHubAuthentication\"] = factory();\n\telse\n\t\troot[\"GitHubAuthentication\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"GitHubAuthentication\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GitHubAuthentication\"] = factory();\n\telse\n\t\troot[\"GitHubAuthentication\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _helpers = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar URL_AUTHORIZE = 'https://github.com/login/oauth/authorize';\n\nvar GitHubAuthentication = function () {\n\tfunction GitHubAuthentication(authOptions) {\n\t\t_classCallCheck(this, GitHubAuthentication);\n\n\t\tthis._authOptions = authOptions;\n\t\tthis._popup = null;\n\t\tconsole;\n\t}\n\n\t_createClass(GitHubAuthentication, [{\n\t\tkey: 'execute',\n\t\tvalue: function execute() {\n\t\t\tconsole.log((0, _helpers.parseToUrlParams)({ nome: 'teste', age: '18' }));\n\t\t}\n\t}, {\n\t\tkey: '_createPopup',\n\t\tvalue: function _createPopup() {}\n\t}, {\n\t\tkey: '_createUrl',\n\t\tvalue: function _createUrl() {}\n\t}]);\n\n\treturn GitHubAuthentication;\n}();\n\nvar GitHubAuth2 = function () {\n\tfunction GitHubAuth2(clientId, callbackUrl) {\n\t\t_classCallCheck(this, GitHubAuth2);\n\n\t\tthis.githubUrl = 'https://github.com/login/oauth/authorize?';\n\t\tthis.popup = null;\n\t\tthis.clientId = clientId;\n\t\tthis.callbackUrl = callbackUrl;\n\t}\n\n\t_createClass(GitHubAuth2, [{\n\t\tkey: 'init',\n\t\tvalue: function init() {\n\t\t\tthis.openPopup();\n\t\t\tthis.polling();\n\t\t}\n\t}, {\n\t\tkey: 'openPopup',\n\t\tvalue: function openPopup() {\n\t\t\tvar url = this.createUrl();\n\t\t\tvar height = 500;\n\t\t\tvar width = 800;\n\t\t\tvar left = window.screen.width / 2 - width / 2;\n\t\t\tvar top = window.screen.height / 2 - height / 2;\n\t\t\tthis.popup = window.open(url, '', 'width=' + width + ', height=' + height + ', left=' + left + ', top=' + top);\n\t\t}\n\t}, {\n\t\tkey: 'createUrl',\n\t\tvalue: function createUrl() {\n\t\t\treturn this.githubUrl + '?response_type=code&client_id=' + this.clientId + '&redirectUri=' + this.callbackUrl + '&scope=user:email';\n\t\t}\n\t}, {\n\t\tkey: 'polling',\n\t\tvalue: function polling() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.pollingInterval = setInterval(function () {\n\t\t\t\ttry {\n\t\t\t\t\tvar url = _this.popup.location.href;\n\t\t\t\t\tvar currentPath = _this.extractUri(url);\n\t\t\t\t\tif (currentPath === _this.callbackUrl) {\n\t\t\t\t\t\t_this.authenticateApi(url);\n\t\t\t\t\t\t_this.popup.close();\n\t\t\t\t\t\tclearInterval(_this.pollingInterval);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\t//Ignorar o erro blocked frame\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'extractUri',\n\t\tvalue: function extractUri(url) {\n\t\t\treturn url.split('?')[0];\n\t\t}\n\t}, {\n\t\tkey: 'extractCodeParam',\n\t\tvalue: function extractCodeParam(url) {\n\t\t\treturn url.split('?')[1].split('=')[1];\n\t\t}\n\t}, {\n\t\tkey: 'authenticateApi',\n\t\tvalue: function authenticateApi(url) {\n\t\t\tvar code = this.extractCodeParam(url);\n\t\t\taxios.post('http://localhost:3001/auth/teste', {\n\t\t\t\tcode: code\n\t\t\t}).then(function (response) {\n\t\t\t\tvar $title = document.querySelector('.title');\n\t\t\t\t$title.innerHTML = 'Token:' + response.data.token;\n\t\t\t}).catch(console.log);\n\t\t}\n\t}]);\n\n\treturn GitHubAuth2;\n}();\n\nmodule.exports = GitHubAuthentication;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar parseToUrlParams = exports.parseToUrlParams = function parseToUrlParams(options) {\n\tvar keys = Object.keys(options);\n\n\tvar allParams = keys.reduce(function (params, key) {\n\t\tif (params) params += '&';\n\n\t\tparams += key + '=' + encodeURIComponent(options[key]);\n\n\t\treturn params;\n\t}, '');\n\n\treturn allParams;\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// dist/build.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ea6303de51b18de0dbaa","import { parseToUrlParams } from './helpers'\r\n\r\nconst URL_AUTHORIZE = 'https://github.com/login/oauth/authorize'\r\n\r\nclass GitHubAuthentication {\r\n\r\n\tconstructor(authOptions) {\r\n\t\tthis._authOptions = authOptions\r\n\t\tthis._popup = null\r\n\t\tconsole\r\n\t}\r\n\r\n\texecute() {\r\n\t\tconsole.log(parseToUrlParams({ nome: 'teste', age: '18' }));\r\n\t}\r\n\r\n\t_createPopup() {\r\n\r\n\t}\r\n\r\n\t_createUrl() {\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass GitHubAuth2 {\r\n\tconstructor(clientId, callbackUrl) {\r\n\t\tthis.githubUrl = 'https://github.com/login/oauth/authorize?'\r\n\t\tthis.popup = null\r\n\t\tthis.clientId = clientId\r\n\t\tthis.callbackUrl = callbackUrl\r\n\t}\r\n\tinit() {\r\n\t\tthis.openPopup()\r\n\t\tthis.polling()\r\n\t}\r\n\topenPopup() {\r\n\t\tconst url = this.createUrl()\r\n\t\tconst height = 500\r\n\t\tconst width = 800\r\n\t\tconst left = (window.screen.width / 2) - (width / 2)\r\n\t\tconst top = (window.screen.height / 2) - (height / 2)\r\n\t\tthis.popup = window.open(url, '', `width=${width}, height=${height}, left=${left}, top=${top}`)\r\n\t}\r\n\tcreateUrl() {\r\n\t\treturn `${this.githubUrl}?response_type=code&client_id=${this.clientId}&redirectUri=${this.callbackUrl}&scope=user:email`\r\n\t}\r\n\tpolling() {\r\n\t\tthis.pollingInterval = setInterval(() => {\r\n\t\t\ttry {\r\n\t\t\t\tconst url = this.popup.location.href\r\n\t\t\t\tconst currentPath = this.extractUri(url)\r\n\t\t\t\tif (currentPath === this.callbackUrl) {\r\n\t\t\t\t\tthis.authenticateApi(url)\r\n\t\t\t\t\tthis.popup.close()\r\n\t\t\t\t\tclearInterval(this.pollingInterval)\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\t//Ignorar o erro blocked frame\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\textractUri(url) {\r\n\t\treturn url.split('?')[0]\r\n\t}\r\n\textractCodeParam(url) {\r\n\t\treturn url.split('?')[1].split('=')[1]\r\n\t}\r\n\tauthenticateApi(url) {\r\n\t\tconst code = this.extractCodeParam(url)\r\n\t\taxios.post('http://localhost:3001/auth/teste', {\r\n\t\t\tcode\r\n\t\t}).then(response => {\r\n\t\t\tconst $title = document.querySelector('.title')\r\n\t\t\t$title.innerHTML = `Token:${response.data.token}`\r\n\t\t}).catch(console.log)\r\n\t}\r\n}\r\n\r\nmodule.exports = GitHubAuthentication;\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","\r\nexport const parseToUrlParams = (options) => {\r\n\tconst keys = Object.keys(options)\r\n\r\n\tconst allParams = keys.reduce((params, key) => {\r\n\t\tif (params) params += '&'\r\n\r\n\t\tparams += `${key}=${encodeURIComponent(options[key])}`\r\n\r\n\t\treturn params;\r\n\t}, '')\r\n\r\n\treturn allParams\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers.js"],"sourceRoot":""}